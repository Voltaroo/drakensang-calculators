var array1 = [0,0.000909090973437, 0.000907276000362, 0.000905464985408, 0.000903657986782, 0.000901854014955, 0.000900054001249, 0.000898258003872, 0.000896464975085, 0.000894674973097, 0.000440726988018, 0.000439847004600, 0.000438969000243, 0.000438093004050, 0.000437218986917, 0.000215378997382, 0.000214949002839, 0.000214519997826, 0.000214090992813, 0.000213663995964, 0.000128095998662, 0.000127840001369, 0.000127584993606, 0.000127331004478, 0.000127075996716, 0.000084380000771, 0.000084211998910, 0.000084043997049, 0.000083876002464, 0.000083708000602, 0.000053148000006, 0.000050858998293, 0.000048669000535, 0.000046574001317, 0.000044568001613, 0.000030114000765, 0.000029292999898, 0.000028495000151, 0.000027718999263, 0.000026964000426, 0.000020273999326, 0.000019914999939, 0.000019563000023, 0.000019216999135, 0.000018877999537, 0.000015626999812, 0.000015427000108, 0.000015229000383, 0.000015032999727, 0.000014840000404, 0.000012126000001, 0.000011842000276, 0.000011565000023, 0.000011293999705, 0.000011029000234, 0.000009434000276, 0.000009268000213, 0.000009104000128, 0.000008942999557, 0.000008785000318, 0.000008134000382, 0.000008013999832, 0.000007894999726, 0.000007779000043, 0.000007663999895, 0.000006255999779, 0.000006176000170, 0.000006097000096, 0.000006018000022, 0.000005940999927, 0.000005573000180, 0.000005517999853, 0.000005462999979, 0.000005409000096, 0.000005356000202, 0.000004539000201, 0.000004494000223, 0.000004448999789, 0.000004404999800, 0.000004361999800, 0.000004084000011, 0.000004043999979, 0.000004002999958, 0.000003963999916, 0.000003924999874, 0.000003440000000, 0.000003412000069, 0.000003384999900, 0.000003357999958, 0.000003332000006, 0.000003148999895, 0.000003126999900, 0.000003104999905, 0.000003083999900, 0.000003061999905, 0.000002735999942, 0.000002716999916, 0.000002697999889, 0.000002679000090, 0.000002661000053, 0.000002519999953, 0.000002510000058, 0.000002499999937, 0.000002490000043, 0.000002479999921, 0.000002248000101, 0.000002243999916, 0.000002238999969, 0.000002235000011, 0.000002230000064, 0.000002226000106, 0.000002220999932, 0.000002216999974, 0.000002213000016, 0.000002208000069, 0.000002020000011, 0.000002007999910, 0.000001996000037, 0.000001984999926, 0.000001974000043, 0.000001962999931, 0.000001952000048, 0.000001940999937, 0.000001931000043, 0.000001920999921, 0.000001911000027, 0.000001902000008, 0.000001892999990, 0.000001883999971, 0.000001874999953, 0.000001866000048, 0.000001858000019, 0.000001849999990, 0.000001841999961, 0.000001834000045, 0.000001826000016, 0.000001818999976, 0.000001812000050, 0.000001805000011, 0.000001797999971, 0.000001791000045, 0.000001784999995, 0.000001778999945, 0.000001772000019, 0.000001765999968, 0.000001761000021];
var array2 = [0,0.000090909001301, 0.000105849001557, 0.000120728996990, 0.000135548994876, 0.000150309002493, 0.000165010002092, 0.000179651993676, 0.000194234002265, 0.000208758006920, 0.000110182001663, 0.000131954002427, 0.000153639004566, 0.000175237000803, 0.000196748005692, 0.000107688996650, 0.000118222000310, 0.000128711995785, 0.000139159004902, 0.000149565006723, 0.000096071998996, 0.000104190003185, 0.000112275003630, 0.000120327000332, 0.000128347004647, 0.000090708999778, 0.000096001000202, 0.000101272002212, 0.000106521998532, 0.000111750996439, 0.000074406998465, 0.000075525997090, 0.000076411000919, 0.000077078999311, 0.000077548000263, 0.000054956999520, 0.000055950000387, 0.000056847999076, 0.000057656001445, 0.000058377998357, 0.000045616001444, 0.000047099998483, 0.000048516998504, 0.000049868998758, 0.000051158000133, 0.000044147000153, 0.000045354001486, 0.000046523000492, 0.000047655001254, 0.000048750000133, 0.000041229999624, 0.000041684001189, 0.000042094998207, 0.000042463998398, 0.000042791998567, 0.000037737998355, 0.000037145000533, 0.000036560999433, 0.000035985998693, 0.000035419998312, 0.000032861000363, 0.000032439998904, 0.000032022999221, 0.000031611998565, 0.000031207000575, 0.000025524999728, 0.000025246999940, 0.000024970999220, 0.000024699000278, 0.000024430000849, 0.000022962000003, 0.000022778000130, 0.000022596999770, 0.000022415999410, 0.000022236999939, 0.000018881000869, 0.000018729999283, 0.000018579999960, 0.000018431999706, 0.000018283999452, 0.000017152999135, 0.000017042999389, 0.000016935000531, 0.000016826999854, 0.000016718999177, 0.000014704000023, 0.000014639000256, 0.000014573000044, 0.000014508000277, 0.000014442999600, 0.000013697999748, 0.000013650000255, 0.000013601999854, 0.000013554000361, 0.000013505000425, 0.000012106999748, 0.000012063000213, 0.000012020000213, 0.000011977000213, 0.000011932999769, 0.000011338000149, 0.000011318000361, 0.000011297999663, 0.000011277999874, 0.000011258000086, 0.000010228999599, 0.000010230999578, 0.000010232999557, 0.000010235000445, 0.000010237000424, 0.000010239000403, 0.000010241000382, 0.000010241999917, 0.000010243999895, 0.000010245999874, 0.000009393999790, 0.000009358000170, 0.000009323000086, 0.000009289000445, 0.000009256000340, 0.000009223999768, 0.000009192999642, 0.000009162999959, 0.000009133999811, 0.000009106000107, 0.000009078999938, 0.000009053000213, 0.000009028000022, 0.000009004000276, 0.000008979999620, 0.000008957999853, 0.000008936000086, 0.000008914999853, 0.000008895000065, 0.000008875999811, 0.000008858000001, 0.000008840000191, 0.000008822999916, 0.000008807000086, 0.000008791999790, 0.000008777000403, 0.000008762999641, 0.000008750000234, 0.000008738000361, 0.000008725999578, 0.000008715000149];
var array3 = ['Normal','Painful','Excruciating','Fatal','Infernal','Infernal (PW)', 'Merciless', 'Merciless (PW)', 'Bloodshed', 'Bloodshed (PW)'];
var table = getID('table-result');
var table2 = getID('hint-table');
window.onload = () => {
    createLegend();
    generateResult(); 
}
window.onchange = () => generateResult();

var mod = 0;
const createLegend = () => {

    for(let i = 0; i < array3.length; i++){
        let row1 = getID('nOutput');
        let td1 = row1.insertCell();
            td1.innerHTML = `n + ${mod}`;
        let row2 = getID('diffOutput');
            let td2 = row2.insertCell();
        td2.innerHTML = array3[i];
        mod += 5;
    }

}

function generateResult(){

    mod = 0;
    level = parseInt(getID('char-lvl').value);
    if(isNaN(level)) level = 0;
    crit = parseInt(getID('crit-val').value);
    if(isNaN(crit)) crit = 0;
    
    for(let i = 1; i <= 10; i++){

        let notation01 = (crit * array1[level + mod] * 100).toFixed(2);
        let notation02 = (crit * array2[level + mod] * 100).toFixed(2);
        
        let levelTD = [];
            levelTD[i] = getID('res_level_1x' + i);
            levelTD[i].innerHTML = level + mod;
        
        let crit1TD = [];
            crit1TD[i] = getID('res_level_2x' + i);
            if(notation01 >= 80){
                crit1TD[i].innerHTML = '80%';
            } else crit1TD[i].innerHTML = `${notation01}%`;
        
        // let crit2TD = [];
        //     crit2TD[i] = getID('res_' + i + '_3');
        //     if(notation02 >= 500){
        //         crit2TD[i].innerHTML = '500%';
        //     } else crit2TD[i].innerHTML = `${notation02}%`;
        
        mod += 5;

    }

}